// B9 MFT/RF patch

// MFT Tank Definitions {{{
+TANK_DEFINITION[Default]:NEEDS[ModularFuelTanks&!RealFuels] {
    @name = B9_Rocket
    @basemass = 0.000508761 * volume
    %baseCost = 0.867052 * volume
    @TANK[LiquidFuel] {
        %mass = 0.0165
        %cost = 0.289017341
    }
    @TANK[Oxidizer] {
        %mass = 0.012
        %cost = 0.289017341
    }
    @TANK[MonoPropellant] {
        %mass = 0.011
        %cost = 0.0867052
    }
}
+TANK_DEFINITION[B9_Rocket]:NEEDS[ModularFuelTanks&!RealFuels] {
    @name = B9_Fuselage
    @TANK[LiquidFuel] {
        @maxAmount = 100%
    }
    @TANK[Oxidizer] {
        @maxAmount = 0
    }
}
+TANK_DEFINITION[B9_Rocket]:NEEDS[ModularFuelTanks&!RealFuels] {
    @name = B9_HX
}
+TANK_DEFINITION[B9_Rocket]:NEEDS[ModularFuelTanks&!RealFuels] {
    @name = B9_HX_Universal
    %TANK[ElectricCharge] {
        %name = ElectricCharge
        %mass = 0.000936416
        %cost = 1
        %amount = 0
        %maxAmount = 0
        %utilization = 18.84
    }
}
/// }}}


// MFT Part Definitions {{{

// Cockpit ServiceModule Tanks {{{
@PART[HL_Aero_Cockpit]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 960
        basemass = 7
        baseCost = 7200
        type = ServiceModule
    }
}

@PART[B9_Cockpit_M27]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 250
        basemass = 2.5
        baseCost = 3000
        type = ServiceModule
    }
}

@PART[B9_Cockpit_MK2]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 200
        basemass = 2
        baseCost = 2800
        type = ServiceModule
    }
}

@PART[B9_Cockpit_MK5]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 300
        basemass = 3.5
        baseCost = 2700
        type = ServiceModule
    }
}

@PART[B9_Cockpit_S2]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 302.5
        basemass = 3.5
        baseCost = 3700
        type = ServiceModule
    }
}

@PART[B9_Cockpit_S3]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 200
        basemass = 3.5
        baseCost = 3800
        type = ServiceModule
    }
}
// }}}

// Cabin ServiceModule Tanks {{{
@PART[B9_Cockpit_MK2_Body_Crew_2m]:NEEDS[ModularFuelTanks|RealFuels] {
    MODULE {
        name = ModuleFuelTanks
        volume = 20
        basemass = 0.4352
        baseCost = 1175
        type = ServiceModule
    }
}

@PART[B9_Cockpit_S2_Body_Crew]:NEEDS[ModularFuelTanks|RealFuels] {
    MODULE {
        name = ModuleFuelTanks
        volume = 200
        basemass = 0.762
        baseCost = 3465
        type = ServiceModule
    }
}

@PART[B9_Cockpit_MK2]:NEEDS[ModularFuelTanks|RealFuels] {
    MODULE {
        name = ModuleFuelTanks
        volume = 2020
        basemass = 2.286
        baseCost = 7467
        type = B9_Fuselage
    }
}
// }}}

// Rocket Adapters {{{
@PART[B9_Adapter_SM1]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 60
        type = B9_Rocket
    }
}

@PART[B9_Adapter_SM2]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 90
        type = B9_Rocket
    }
}

@PART[B9_Adapter_LM3]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 182
        type = B9_Rocket
    }
}

@PART[B9_Adapter_SM3]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 90
        type = B9_Rocket
    }
}
// }}}

// HL Body {{{
@PART[B9_Aero_HL_Adapter_Front]:NEEDS[ModularFuelTanks|RealFuels] {
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 4180
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Body_Structure_1m_U]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1830
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Adapter_2m_Side]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 4740
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Body_Structure_2m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 3680
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Body_Structure_2m_A]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x8): (x2):
    @description ^= :CONTAINS 8 SUBTYPES:CONTAINS 2 SUBTYPES:
    @MODULE[FSmeshSwitch] {
        @objectDisplayNames = Adapter HL; Adapter Round
        @objects = STR; STR_R
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 2620
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Body_Structure_05m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 920
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Body_Structure_6m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 11020
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Body_Tail_8m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x15): (x5):
    @description ^= :CONTAINS 15 SUBTYPES:CONTAINS 5 SUBTYPES:
    @MODULE[FSmeshSwitch] {
        @objectDisplayNames = Raised; Lowered; Straight A; Straight B; Flat
        @objects = Tail_Raised; Tail_Lowered; Tail_Straight_A; Tail_Straight_B; Tail_Flat
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 7120
        type = B9_Fuselage
    }
}
// }}}

// HL Cargo {{{
@PART[B9_Aero_HL_Body_Cargo_A]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 220
        type = B9_Fuselage
        basemass = 1.85
        baseCost = 3200
    }
}

@PART[B9_Aero_HL_Body_Cargo_B]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 420
        type = B9_Fuselage
        basemass = 3.7
        baseCost = 6400
    }
}

@PART[B9_Aero_HL_Body_Cargo_C]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 4740
        type = B9_Fuselage
        basemass = 5.55
        baseCost = 9600
    }
}
// }}}

// HL Side Extensions {{{
@PART[B9_Aero_HL_Extension_A]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 580
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Extension_B1]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FStextureSwitch2] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 440
        type = B9_Fuselage
    }
}

@PART[B9_Aero_HL_Extension_C]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 240
        type = B9_Fuselage
    }
}
// }}}

// Intake Mount {{{
@PART[B9_Aero_Intake_Mount]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 220
        type = B9_Fuselage
    }
}
// }}}

// T2 Tail {{{
@PART[B9_Aero_T2_Tail]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1100
        type = B9_Rocket
    }
}
// }}}

// M2 Cargo {{{
@PART[B9_Cargo_M2_Adapter]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 720
        type = B9_Rocket
    }
}

@PART[B9_Cargo_M2_Separator]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 580
        type = B9_Rocket
    }
}

@PART[B9_Cargo_M2_Body_B]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 220
        type = B9_Rocket
        basemass = 0.6
        baseCost = 1100
    }
}
// }}}

// MK1 Body {{{
@PART[B9_Cockpit_MK1_Body_2m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 420
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_MK1_Body_5m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1060
        type = B9_Fuselage
    }
}
// }}}

// MK1 Junction {{{
@PART[B9_Cockpit_MK1_Junction]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 940
        type = B9_Fuselage
    }
}
// }}}

// MK1 Tail {{{
@PART[B9_Cockpit_MK1_Tail]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x8): (x2):
    @description = ^= :CONTAINS 8 SUBTYPES:CONTAINS 2 SUBTYPES:
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 500
        type = B9_Fuselage
    }
}
// }}}

// MK2 Adapter {{{
@PART[B9_Cockpit_MK2_Adapter]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 2560
        type = B9_Fuselage
    }
}
// }}}

// MK2 Adapter M125 {{{
@PART[B9_Cockpit_MK2_Adapter_M125]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1260
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_MK2_Adapter_M125_2]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1260
        type = B9_Fuselage
    }
}
// }}}

// MK2 BiCoupler {{{
@PART[B9_Cockpit_MK2_Adapter]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1220
        type = B9_Fuselage
    }
}
// }}}

// MK2 BiCoupler Short {{{
@PART[B9_Cockpit_MK2_Adapter]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 460
        type = B9_Fuselage
    }
}
// }}}

// MK2 Body {{{
@PART[B9_Cockpit_MK2_Body_2m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 820
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_MK2_Body_RCS_05m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 194
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_MK2_Body_5m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 2060
        type = B9_Fuselage
    }
}
// }}}

// MK2 Cargo {{{
@PART[B9_Cockpit_MK2_Body_Cargo_2m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 148
        type = B9_Fuselage
        basemass = 0.42
        baseCost = 725
    }
}

@PART[B9_Cockpit_MK2_Body_Cargo_5m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 4740
        type = B9_Fuselage
        basemass = 1.06
        baseCost = 1850
    }
}
// }}}

// MK2 Tail {{{
@PART[B9_Cockpit_MK2_Tail]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x8): (x2):
    @description = ^= :CONTAINS 8 SUBTYPES:CONTAINS 2 SUBTYPES:
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1020
        type = B9_Fuselage
    }
}
// }}}

// S2 Adapter {{{
@PART[B9_Cockpit_S2_Adapter]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 400
        type = B9_Fuselage
    }
}
// }}}

// S2 Body {{{
@PART[B9_Cockpit_S2_Body_RCS]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 750
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_Body]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1500
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_Body_05m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 374
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_Body_6m]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 4500
        type = B9_Fuselage
    }
}
// }}}

// S2/Wide Cargo {{{
@PART[B9_Cockpit_S2_Body_Cargo_2m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 56
        type = B9_Fuselage
        basemass = 0.77
        baseCost = 1350
    }
}

@PART[B9_Cockpit_S2_Body_Cargo_6m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 170
        type = B9_Fuselage
        basemass = 2.3
        baseCost = 3950
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Cargo_2m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 212
        type = B9_Fuselage
        basemass = 2.05
        baseCost = 3475
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Cargo_6m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 636
        type = B9_Fuselage
        basemass = 6.15
        baseCost = 10425
    }
}
// }}}

// S2 Adapter {{{
@PART[B9_Cockpit_S2_Body_Crew_6m]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 2020
        type = B9_Fuselage
        basemass = 2.286
        baseCost = 7476
    }
}
// }}}

// S2 Tail {{{
@PART[B9_Cockpit_S2_Body_Tail]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x8): (x2):
    @description = ^= :CONTAINS 8 SUBTYPES:CONTAINS 2 SUBTYPES:
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 2740
        type = B9_Fuselage
    }
}
// }}}

// S2 Wide Body {{{
@PART[B9_Cockpit_S2_BodyLarge]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 7780
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Back_EngineMount1]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 9940
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Back_EngineMount2]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 16780
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Back]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 6500
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Front]:NEEDS[FerramAerospaceResearch|NEAR&ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 4960
        type = B9_Fuselage
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Front2]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 7080
        type = B9_Fuselage
    }
}
// }}}

// MT RCS Tanks {{{
@PART[B9_Control_RCS_Tank_MT1]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[*] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 40
        type = RCS
    }
}

@PART[B9_Control_RCS_Tank_MT4]:NEEDS[ModularFuelTanks|RealFuels] {
    !RESOURCE[*] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 160
        type = RCS
    }
}
// }}}

// SABRE Body {{{
@PART[B9_Engine_SABRE_M_Body]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 2060
        type = B9_Fuselage
    }
}

@PART[B9_Engine_SABRE_S_Body]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 260
        type = B9_Fuselage
    }
}
// }}}

// VS1 Nosecone {{{
@PART[B9_Engine_VS1_Nosecone]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 100
        type = B9_Rocket
    }
}
// }}}

// HX System {{{

// HX Side {{{
@PART[B9_Structure_HX_S_2]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 340
        type = B9_HX
    }
}

@PART[B9_Structure_HX_S_8]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 1380
        type = B9_HX
    }
}
// }}}

// HX0 {{{
@PART[B9_Structure_HX0_E]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 8820
        type = B9_HX
    }
}

@PART[B9_Structure_HX0_S]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 26640
        type = B9_HX_Universal
    }
}
// }}}

// HX1 {{{
@PART[B9_Structure_HX1_A_375B]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 22500
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_A_375C]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x4): (x2):
    @description ^= :CONTAINS 4 SUBTYPES:CONTAINS 2 SUBTYPES:
    @MODULE[FSmeshSwitch] {
        @objectDisplayNames = Type A; Type B
        @objects = STR1; STR2
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 4340
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_A_LLL]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 15247
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_A_P]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 18340
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_A_SD]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x4): (x2):
    @description ^= :CONTAINS 4 SUBTYPES:CONTAINS 2 SUBTYPES:
    @MODULE[FSmeshSwitch] {
        @objectDisplayNames = Type A; Type B
        @objects = STR1; STR2
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 64040
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_A_S0]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 42860
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_E1]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 39280
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_S_HS]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 3580
        type = B9_HX_Universal
    }
}

@PART[B9_Structure_HX1_S_T]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 29500
        type = B9_HX
    }
}

@PART[B9_Structure_HX1_U]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 59000
        type = B9_HX_Universal
    }
}

@PART[B9_Structure_HX1_U_S]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 14740
        type = B9_Rocket
    }
}
// }}}

// HX2 {{{
@PART[B9_Structure_HX2_A_S1_A]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 91260
        type = B9_HX
    }
}

@PART[B9_Structure_HX2_A_S1_B]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 182520
        type = B9_HX
    }
}

@PART[B9_Structure_HX2_U]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 123520
        type = B9_HX_Universal
    }
}
// }}}

// HX4 {{{
@PART[B9_Structure_HX4_A_HX1_A]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 142440
        type = B9_HX
    }
}

@PART[B9_Structure_HX4_A_HX2_A]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 186500
        type = B9_HX
    }
}

@PART[B9_Structure_HX4_A_HX2_B]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 376520
        type = B9_HX
    }
}

@PART[B9_Structure_HX4_U]:NEEDS[ModularFuelTanks|RealFuels] {
    @MODULE[FSmeshSwitch] {
        @useFuelSwitchModule = false
    }
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 252600
        type = B9_HX_Universal
    }
}
// }}}

// }}}

// PA Adapter {{{
@PART[B9_Structure_PA_Adapter]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 980
        type = B9_Rocket
    }
}
// }}}

// PA Adapter {{{
@PART[B9_Cockpit_MK2_Nosecone]:NEEDS[ModularFuelTanks|RealFuels] {
    @title ^= : (x\d*)::
    @description = ^= :CONTAINS \d* SUBTYPES | ::
    !MODULE[FSfuelSwitch] {}
    MODULE {
        name = ModuleFuelTanks
        volume = 180
        type = B9_Rocket
    }
}
// }}}

// }}}


// RealFuels Tank Types {{{
+TANK_DEFINITION[ServiceModule]:NEEDS[RealFuels] {
    @name = B9_HX_Universal
    @basemass = 0.000008 * volume
}
+TANK_DEFINITION[B9_HX_Universal]:NEEDS[RealFuels] {
    @name = B9_HX
    !TANK[ElectricCharge] {}
}
// }}}


// RealFuels Part Definitions {{{

// Globals {{{
@PART[B9_*]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @volume *= 5
    }
    @MODULE[ModuleFuelTanks]:HAS[#type[B9_Rocket]] {
        @basemass *= 0.1081057706860392
        @baseCost *= 0.0576666682044445
        @type = ServiceModule
    }
    @MODULE[ModuleFuelTanks]:HAS[#type[B9_Fuselage]] {
        @basemass *= 0.4324230827441568
        @baseCost *= 0.0576666682044445
        @type = Fuselage
    }
    @MODULE[ModuleFuelTanks]:HAS[#type[RCS]] {
        @type = ServiceModule
    }
}
// }}}

// Cockpit ServiceModule Tanks {{{
@PART[HL_Aero_Cockpit]:NEEDS[RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    @MODULE[ModuleFuelTanks] {
        @volume = 960
        @basemass = 7
        @baseCost = 7200
    }
}

@PART[B9_Cockpit_M27]:NEEDS[RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    @MODULE[ModuleFuelTanks] {
        @volume = 250
        @basemass = 2.5
        @baseCost = 3000
    }
}

@PART[B9_Cockpit_MK2]:NEEDS[RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    @MODULE[ModuleFuelTanks] {
        @volume = 200
        @basemass = 2
        @baseCost = 2800
    }
}

@PART[B9_Cockpit_MK5]:NEEDS[RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    @MODULE[ModuleFuelTanks] {
        @volume = 300
        @basemass = 3.5
        @baseCost = 2700
    }
}

@PART[B9_Cockpit_S2]:NEEDS[RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    @MODULE[ModuleFuelTanks] {
        @volume = 302.5
        @basemass = 3.5
        @baseCost = 3700
    }
}

@PART[B9_Cockpit_S3]:NEEDS[RealFuels] {
    !RESOURCE[ElectricCharge] {}
    !RESOURCE[MonoPropellant] {}
    @MODULE[ModuleFuelTanks] {
        @volume = 200
        @basemass = 3.5
        @baseCost = 3800
    }
}
// }}}

// Cabin ServiceModule Tanks {{{
@PART[B9_Cockpit_MK2_Body_Crew_2m]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @volume = 20
        @basemass = 0.4352
        @baseCost = 1175
    }
}

@PART[B9_Cockpit_S2_Body_Crew]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @volume = 200
        @basemass = 0.762
        @baseCost = 3465
    }
}

@PART[B9_Cockpit_MK2]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @volume = 2020
        @basemass = 2.286
        @baseCost = 7467
        @type = ServiceModule
    }
}
// }}}

// Spaceplane Cargo bays {{{
@PART[B9_Aero_HL_Body_Cargo_*]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @type = ServiceModule
    }
}

@PART[B9_Cockpit_MK2_Body_Cargo_*]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @type = ServiceModule
    }
}

@PART[B9_Cockpit_S2_Body_Cargo_*]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @type = ServiceModule
    }
}

@PART[B9_Cockpit_S2_BodyLarge_Cargo_*]:NEEDS[RealFuels] {
    @MODULE[ModuleFuelTanks] {
        @type = ServiceModule
    }
}
// }}}

// }}}

// vim: fdm=marker
