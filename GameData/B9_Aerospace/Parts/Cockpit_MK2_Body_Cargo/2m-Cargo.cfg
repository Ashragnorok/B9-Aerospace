PART
{
    // --- general parameters ---
    name = B9_Cockpit_MK2_Body_Cargo_2m
    module = Part
    author = bac9-flcl

    // --- asset parameters ---
    MODEL
    {
        model = B9_Aerospace/Parts/Cockpit_MK2_Body_Cargo/model-2mC
    }
    scale = 1
    rescaleFactor = 1

    // --- node definitions ---
    node_stack_top      = 0,  1,   0.025, 0, 1,  0
    node_stack_top01    = 0,  0.8, 0,     0,  -1,  0
    node_stack_bottom   = 0, -1,   0.025, 0,  -1,  0
    node_stack_bottom01 = 0, -0.8, 0,     0, 1,  0
    node_attach         = 0,  0,   0.625, 0,  0, -1

    // --- editor parameters ---
    TechRequired = supersonicFlight
    entryCost = 2900
    cost = 725
    category = Structural
    subcategory = 0
    title = MK2 Cargo Bay 2m (x4)
    manufacturer = Tetragon Projects
    description = CONTAINS 4 SUBTYPES | Short cargo section, part of the long-overdue line of improved parts for the popular MK2 fuselage system. One of the few parts with thermal protection plates painted over the hull. Let's hope that helps with your re-entries.

    // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
    attachRules = 1,1,1,1,0

    // --- standard part parameters ---
    mass = 0.42
    dragModelType = default
    maximum_drag = 0.2
    minimum_drag = 0.3
    angularDrag = 1
    crashTolerance = 30
    breakingForce = 450
    breakingTorque = 450
    maxTemp = 2300 // = 3000
    fuelCrossFeed = True
	bulkheadProfiles = mk2, srf

    DRAG_CUBE
	{
		cube = Default, 3,0.5769915,1.203422, 3,0.5760733,1.203422, 2.373206,0.9510956,0.1466667, 2.373206,0.9510987,0.1466667, 4.863196,0.9369168,0.5581021, 4.863196,0.8546501,0.8504412, 0,0,-0.1221191, 2.422843,2,1.494238
	}
	
	EFFECTS
    {
        doorMotor
        {
            AUDIO
            {
                channel = Ship
                clip = B9_Aerospace/Sounds/sound_gearRetract
                volume = 0.0 0.0
                volume = 1.0 1.0
                pitch = 0.0 0.0
                pitch = 1.0 1.0
                loop = false
            }
        }
    }

    MODULE
    {
        name = FSanimateGeneric
        animationName = cargo_mk2_toggle
        startEventGUIName = Close cargo bay doors
        endEventGUIName = Open cargo bay doors
        toggleActionName = Toggle cargo bay doors
        availableInEVA = True
        EVArange = 10

        startRetractEffect = doorMotor
        startDeployEffect = doorMotor
    }

    MODULE
    {
        // 0.86m3 tank
        name = FSfuelSwitch
        resourceNames = Structural;LiquidFuel;LiquidFuel,Oxidizer;MonoPropellant
        resourceAmounts = 0;148;66.6,81.4;148
        basePartMass = 0.42
        tankMass = 0;0.014;0.019;0.01
        tankCost = 0;160;110;190
        displayCurrentTankCost = true
	}
	
	MODULE
	{
		name = ModuleCargoBay
		DeployModuleIndex = 1
		closedPosition = 1
		lookupRadius = 1
		
		nodeOuterForeID = top
		nodeOuterAftID = bottom
		nodeInnerForeID = top2
		nodeInnerAftID = bottom2
	}
	
	MODULE
	{
		name = ModuleLiftingSurface
		useInternalDragModel = False
		deflectionLiftCoeff = 0.35
		dragAtMaxAoA = 0.15
		dragAtMinAoA = 0.1
	}
}

@PART[B9_Cockpit_MK2_Body_Cargo_2m]:NEEDS[FerramAerospaceResearch|NEAR]{
	@maximum_drag = 0
    @minimum_drag = 0
    @angularDrag = 0
    !MODULE[ModuleLiftingSurface] {}
}